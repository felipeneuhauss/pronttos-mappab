{"version":3,"sources":["../../src/pages/patients/patient-detail/patient-detail.module.ts","../../src/components/user-detail/user-detail.module.ts","../../src/components/user-detail/user-detail.ts","../../src/pages/patients/patient-detail/patient-detail.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { PatientDetailPage } from './patient-detail';\nimport { UserDetailComponentModule } from '../../../components/user-detail/user-detail.module';\n\n@NgModule({\n  declarations: [\n    PatientDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PatientDetailPage),\n    TranslateModule.forChild(),\n    UserDetailComponentModule\n  ],\n  exports: [\n    PatientDetailPage\n  ]\n})\nexport class PatientDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/patients/patient-detail/patient-detail.module.ts","import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UserDetailComponent } from './user-detail';\nimport { BrMaskerModule } from 'brmasker-ionic-3';\n\n@NgModule({\n  declarations: [\n    UserDetailComponent,\n  ],\n  imports: [\n    IonicPageModule.forChild(UserDetailComponent),\n    TranslateModule.forChild(), BrMaskerModule\n  ],\n  exports: [\n    UserDetailComponent\n  ]\n})\nexport class UserDetailComponentModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-detail/user-detail.module.ts","import { Component, Input, SimpleChanges } from '@angular/core';\nimport { UserMapper } from '../../models/user.model';\nimport { SpecializationMapper } from '../../models/specialization.model';\nimport { User } from '../../providers';\nimport { ToastProvider } from '../../providers/toast/toast';\nimport { StatesProvider } from '../../providers/states/states';\nimport { SpecializationsProvider } from '../../providers/specializations/specializations';\nimport { ModalController } from 'ionic-angular';\nimport { ColorPickPage } from '../../pages';\n\n/**\n * Generated class for the UserDetailComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: 'user-detail',\n  templateUrl: 'user-detail.html'\n})\nexport class UserDetailComponent {\n\n  @Input() user: UserMapper;\n  @Input() specialization: SpecializationMapper;\n\n  loggedUser: UserMapper;\n\n  states: any[];\n\n  cities: any[];\n\n  specializations: any[];\n\n  allowEdition: boolean = false;\n\n  constructor(private userPrv: User, private toastPrv: ToastProvider, private modalCtrl: ModalController,\n              private statePrv: StatesProvider, private specializationPrv: SpecializationsProvider) {\n  }\n\n  ngOnChanges(simpleChange: SimpleChanges) {\n    if (simpleChange.user.currentValue) {\n      this.getLoggedUser();\n      this.loadStates();\n      this.loadCities();\n      this.loadSpecializations();\n    }\n  }\n\n  async getLoggedUser() {\n    this.loggedUser = await this.userPrv.user();\n    this.allowEdition = (this.loggedUser.id == this.user.id);\n  }\n\n  save() {\n    this.user.terms_read = 1;\n    this.userPrv.save(this.user).subscribe((data: any) => {\n      this.userPrv.setUser(data.data);\n      this.user = data.data;\n      this.toastPrv.show('Seus dados foram salvos com sucesso');\n    });\n  }\n\n  loadStates() {\n    this.statePrv.query().subscribe((data) => {\n      this.states = data;\n    });\n  }\n\n  loadCities() {\n    if (this.user && this.user.state_id) {\n      this.statePrv.cities(this.user.state_id).subscribe((data) => {\n        this.cities = data;\n      });\n    }\n  }\n\n  loadSpecializations() {\n    this.specializationPrv.query().subscribe((data) => {\n      this.specializations = data;\n    });\n  }\n\n  chooseAColor() {\n    let colorModal = this.modalCtrl.create(ColorPickPage, { color: this.user.professional.color });\n    colorModal.onDidDismiss(data => {\n      this.user.professional.color = data.color;\n    });\n    colorModal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-detail/user-detail.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { Items } from '../../../providers';\nimport { PatientMapper } from '../../../models/patient.model';\nimport { PatientEvolutionsPage, SchedulesPage } from '../../index';\nimport { Patients } from '../../../providers/patients/patients';\n\n@IonicPage({\n  name: 'PatientDetailPage'\n})\n@Component({\n  selector: 'page-patient-detail',\n  templateUrl: 'patient-detail.html'\n})\nexport class PatientDetailPage {\n  item: PatientMapper;\n\n  constructor(public navCtrl: NavController, navParams: NavParams, items: Items, private patientPrv: Patients) {\n    let item = navParams.get('item') || items.defaultItem;\n    let id = item.patient_id;\n    this.getPatient(id);\n  }\n\n  async getPatient(id: string) {\n    this.item = await this.patientPrv.get(id).toPromise();\n  }\n\n  schedule() {\n    this.navCtrl.push(SchedulesPage, {patient: this.item});\n  }\n\n  evolutions() {\n    this.navCtrl.push(PatientEvolutionsPage, {\n      patient: this.item\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/patients/patient-detail/patient-detail.ts"],"sourceRoot":""}