{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/truncate/truncate.ts","../../src/pipes/safe/safe.ts","../../src/components/user-detail/user-detail.module.ts","../../src/components/user-detail/user-detail.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\nimport { UserDetailComponentModule } from '../../components/user-detail/user-detail.module';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage), UserDetailComponentModule, PipesModule\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { NgModule } from '@angular/core';\nimport { TruncatePipe } from './truncate/truncate';\nimport { SafePipe } from './safe/safe';\n\n@NgModule({\n\tdeclarations: [TruncatePipe,\n    SafePipe],\n\timports: [],\n\texports: [TruncatePipe,\n    SafePipe]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the TruncatePipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'truncate',\n})\nexport class TruncatePipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(value: string, length?: number) {\n    length = length ? length : 140;\n    if (value) {\n      return value.substr(0, length) + '...';\n    }\n    return '';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/truncate/truncate.ts","import { Pipe } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeResourceUrl, SafeScript, SafeStyle, SafeUrl } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safe'\n})\nexport class SafePipe {\n\n  constructor(protected _sanitizer: DomSanitizer) {\n\n  }\n\n  public transform(value: string, type: string = 'html'): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\n    if (!value) { return value; }\n\n    switch (type) {\n      case 'html': return this._sanitizer.bypassSecurityTrustHtml(value);\n      case 'style': return this._sanitizer.bypassSecurityTrustStyle(value);\n      case 'script': return this._sanitizer.bypassSecurityTrustScript(value);\n      case 'url': return this._sanitizer.bypassSecurityTrustUrl(value);\n      case 'resourceUrl': return this._sanitizer.bypassSecurityTrustResourceUrl(value);\n      default: throw new Error(`Invalid safe type specified: ${type}`);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/safe/safe.ts","import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UserDetailComponent } from './user-detail';\nimport { BrMaskerModule } from 'brmasker-ionic-3';\n\n@NgModule({\n  declarations: [\n    UserDetailComponent,\n  ],\n  imports: [\n    IonicPageModule.forChild(UserDetailComponent),\n    TranslateModule.forChild(), BrMaskerModule\n  ],\n  exports: [\n    UserDetailComponent\n  ]\n})\nexport class UserDetailComponentModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-detail/user-detail.module.ts","import { Component, Input, SimpleChanges } from '@angular/core';\nimport { UserMapper } from '../../models/user.model';\nimport { SpecializationMapper } from '../../models/specialization.model';\nimport { User } from '../../providers';\nimport { ToastProvider } from '../../providers/toast/toast';\nimport { StatesProvider } from '../../providers/states/states';\nimport { SpecializationsProvider } from '../../providers/specializations/specializations';\nimport { ModalController } from 'ionic-angular';\nimport { ColorPickPage } from '../../pages';\n\n/**\n * Generated class for the UserDetailComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: 'user-detail',\n  templateUrl: 'user-detail.html'\n})\nexport class UserDetailComponent {\n\n  @Input() user: UserMapper;\n  @Input() specialization: SpecializationMapper;\n\n  loggedUser: UserMapper;\n\n  states: any[];\n\n  cities: any[];\n\n  specializations: any[];\n\n  allowEdition: boolean = false;\n\n  constructor(private userPrv: User, private toastPrv: ToastProvider, private modalCtrl: ModalController,\n              private statePrv: StatesProvider, private specializationPrv: SpecializationsProvider) {\n  }\n\n  ngOnChanges(simpleChange: SimpleChanges) {\n    if (simpleChange.user.currentValue) {\n      this.getLoggedUser();\n      this.loadStates();\n      this.loadCities();\n      this.loadSpecializations();\n    }\n  }\n\n  async getLoggedUser() {\n    this.loggedUser = await this.userPrv.user();\n    this.allowEdition = (this.loggedUser.id == this.user.id);\n  }\n\n  save() {\n    this.user.terms_read = 1;\n    this.userPrv.save(this.user).subscribe((data: any) => {\n      this.userPrv.setUser(data.data);\n      this.user = data.data;\n      this.toastPrv.show('Seus dados foram salvos com sucesso');\n    });\n  }\n\n  loadStates() {\n    this.statePrv.query().subscribe((data) => {\n      this.states = data;\n    });\n  }\n\n  loadCities() {\n    if (this.user && this.user.state_id) {\n      this.statePrv.cities(this.user.state_id).subscribe((data) => {\n        this.cities = data;\n      });\n    }\n  }\n\n  loadSpecializations() {\n    this.specializationPrv.query().subscribe((data) => {\n      this.specializations = data;\n    });\n  }\n\n  chooseAColor() {\n    let colorModal = this.modalCtrl.create(ColorPickPage, { color: this.user.professional.color });\n    colorModal.onDidDismiss(data => {\n      this.user.professional.color = data.color;\n    });\n    colorModal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-detail/user-detail.ts","import { Component } from '@angular/core';\nimport { IonicPage, ModalController, NavController, NavParams } from 'ionic-angular';\nimport { User } from '../../providers';\nimport { UserMapper } from '../../models/user.model';\nimport { EditProfilePage } from '../index';\nimport { AnalytictsTrack } from '../../decorators/analyticts-track.decorators';\n\n/**\n * Generated class for the ProfilePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@AnalytictsTrack('[PERFIL] Visualizar perfil')\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n\n  public loggedUser: UserMapper;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private userPrv: User,\n              private modalCtrl: ModalController) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ProfilePage');\n    this.getLoggedUser();\n  }\n\n  async getLoggedUser() {\n    this.loggedUser = await this.userPrv.user();\n    console.log('getLoggedUser', this.loggedUser);\n  }\n\n  logout() {\n    this.loggedUser = null;\n    this.userPrv.logout();\n    this.navCtrl.setRoot('WelcomePage');\n  }\n\n  editProfile() {\n    let editModal = this.modalCtrl.create(EditProfilePage, {user: this.loggedUser});\n    editModal.onDidDismiss(() => {\n      this.getLoggedUser();\n    });\n\n    editModal.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}